{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst GALLERY_LINK = 'gallery-link';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nfunction fetchImages(q) {\n  const searchParams = new URLSearchParams({\n    key: 'a5fd3939-90ba-4678-86ee-0a0c8fb3d061',\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safeSearch: true,\n  });\n\n  const PARAMS = `?${searchParams}`;\n  const url = BASE_URL + PARAMS;\n\n  return fetch(url)\n    .then(response => response.json())\n    .catch(error => {\n      toastError(`Error fetching images: ${error}`);\n      throw error;\n    });\n}\n\nexport { fetchImages, GALLERY_LINK };\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImages, GALLERY_LINK } from './pixabay-api';\n\nexport function createGallery({\n  largeImageURL,\n  tags,\n  webformatURL,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n    <a href=\"${largeImageURL}\" class=\"${GALLERY_LINK}\">\n      <figure>\n        <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\">\n        <figcaption class=\"gallery__figcaption\">\n          <div class=\"image-item\">Likes <span class=\"image-elem\">${likes}</span></div>\n          <div class=\"image-item\">Views <span class=\"image-elem\">${views}</span></div>\n          <div class=\"image-item\">Comments <span class=\"image-elem\">${comments}</span></div>\n          <div class=\"image-item\">Downloads <span class=\"image-elem\">${downloads}</span></div>\n        </figcaption>\n      </figure>\n    </a>\n  `;\n}\n","import './js/pixabay-api.js';\nimport './js/render-functions.js';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport 'nprogress/nprogress.css';\nimport { fetchImages, GALLERY_LINK } from './js/pixabay-api.js';\nimport { createGallery } from './js/render-functions.js';\n\nconst galleryContainer = document.querySelector('.gallery');\nconst searchForm = document.querySelector('.search-form');\nconst loaderContainer = document.querySelector('.loader');\nconst resultInfo = document.querySelector('.result-info');\n\nsearchForm.addEventListener('submit', function (event) {\n  event.preventDefault();\n  const queryInput = event.target.elements.query.value.trim();\n\n  if (queryInput.length < 3) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search query with at least 3 characters.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  galleryContainer.innerHTML = '';\n  resultInfo.innerHTML = '';\n\n  const lightbox = new SimpleLightbox(`.${GALLERY_LINK}`);\n\n  fetchImages(queryInput)\n    .then(({ hits }) => {\n      if (hits.length > 0) {\n        const galleryHTML = hits.map(createGallery).join('');\n        galleryContainer.innerHTML = galleryHTML;\n\n        resultInfo.innerHTML = `<p class=\"result-messages\">Loading images, please wait...</p>`;\n\n        lightbox.refresh();\n\n        setTimeout(() => {\n          resultInfo.innerHTML = '';\n        }, 2000);\n      } else {\n        resultInfo.innerHTML =\n          '<p class=\"no-results-message\">No images found.</p>';\n\n        setTimeout(() => {\n          resultInfo.innerHTML = '';\n        }, 5000);\n      }\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n\n      iziToast.error({\n        title: 'Error',\n        message: 'Error fetching images. Please try again.',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      loaderContainer.style.display = 'none';\n      searchForm.reset();\n    });\n});\n"],"names":["GALLERY_LINK","BASE_URL","fetchImages","q","PARAMS","url","response","error","createGallery","largeImageURL","tags","webformatURL","likes","views","comments","downloads","galleryContainer","searchForm","loaderContainer","resultInfo","event","queryInput","lightbox","SimpleLightbox","hits","galleryHTML"],"mappings":"svBAGA,MAAMA,EAAe,eACfC,EAAW,2BAEjB,SAASC,EAAYC,EAAG,CAStB,MAAMC,EAAS,IARM,IAAI,gBAAgB,CACvC,IAAK,uCACL,EAAAD,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,CAE8B,GACzBE,EAAMJ,EAAWG,EAEvB,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAYA,EAAS,MAAM,EAChC,MAAMC,GAAS,CACd,iBAAW,0BAA0BA,CAAK,EAAE,EACtCA,CACZ,CAAK,CACL,CCnBO,SAASC,EAAc,CAC5B,cAAAC,EACA,KAAAC,EACA,aAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,eACMN,CAAa,YAAYT,CAAY;AAAA;AAAA,oBAEhCW,CAAY,UAAUD,CAAI;AAAA;AAAA,mEAEqBE,CAAK;AAAA,mEACLC,CAAK;AAAA,sEACFC,CAAQ;AAAA,uEACPC,CAAS;AAAA;AAAA;AAAA;AAAA,GAKhF,CCjBA,MAAMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAkB,SAAS,cAAc,SAAS,EAClDC,EAAa,SAAS,cAAc,cAAc,EAExDF,EAAW,iBAAiB,SAAU,SAAUG,EAAO,CACrDA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,OAAO,SAAS,MAAM,MAAM,OAErD,GAAIC,EAAW,OAAS,EAAG,CACzB,SAAS,QAAQ,CACf,MAAO,UACP,QAAS,0DACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDL,EAAiB,UAAY,GAC7BG,EAAW,UAAY,GAEvB,MAAMG,EAAW,IAAIC,EAAe,IAAIvB,CAAY,EAAE,EAEtDE,EAAYmB,CAAU,EACnB,KAAK,CAAC,CAAE,KAAAG,KAAW,CAClB,GAAIA,EAAK,OAAS,EAAG,CACnB,MAAMC,EAAcD,EAAK,IAAIhB,CAAa,EAAE,KAAK,EAAE,EACnDQ,EAAiB,UAAYS,EAE7BN,EAAW,UAAY,gEAEvBG,EAAS,QAAO,EAEhB,WAAW,IAAM,CACfH,EAAW,UAAY,EACxB,EAAE,GAAI,CACf,MACQA,EAAW,UACT,qDAEF,WAAW,IAAM,CACfA,EAAW,UAAY,EACxB,EAAE,GAAI,CAEf,CAAK,EACA,MAAMZ,GAAS,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAE7C,SAAS,MAAM,CACb,MAAO,QACP,QAAS,2CACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbW,EAAgB,MAAM,QAAU,OAChCD,EAAW,MAAK,CACtB,CAAK,CACL,CAAC"}